import glob, random, os, shutil
def main():
    num_samples = 30

    category_dir_names = glob.glob("../detect_*")
    for category_dir_name in category_dir_names:
        category = category_dir_name.split("/")[-1][7:]
        paths = glob.glob(f"{category_dir_name}/detect/**/*.*")
        paths_samples = random.sample(paths, num_samples)

        save_dir = f"../../object_detection/sample_{category}"
        os.makedirs(save_dir, exist_ok=True)
        cnt = 0
        for paths_sample in paths_samples:
            file_name = f"image_{str(cnt).zfill(3)}.jpg"
            dst = f"{save_dir}/{file_name}"
            shutil.copyfile(paths_sample, dst)
            cnt += 1

if __name__ == '__main__':
  main()

  