import openai
import os

openai.organization = os.getenv("OPENAI_ORGANIZATION")
openai.api_key = os.getenv("OPENAI_API_KEY")

with open("../wikipedia/Q653.txt") as f:
    article = f.read()
entity = "Chihuahua (dog)"
MODEL = "gpt-3.5-turbo"
response = openai.ChatCompletion.create(
    model=MODEL,
    messages=[
        {"role": "system", "content": "You are a helpful annotator of wikipedia articles."},
        {"role": "user", "content": f"Following text is a wikipedia article of {entity}."},
        {"role": "user", "content": f"{article}"},
        {"role": "user", "content": "Please exploit sentences containing the entity name."},
    ],
    temperature=0,
)

print(response.choices[0]["message"]["content"])